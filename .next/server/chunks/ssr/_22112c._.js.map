{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/kasinadhsarma/dr-detection/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\n\ninterface TooltipProps {\n  children: React.ReactNode;\n  tooltip: string;\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  delay?: number;\n}\n\nexport function Tooltip({ \n  children, \n  tooltip, \n  position = 'top',\n  delay = 0 \n}: TooltipProps) {\n  const [isVisible, setIsVisible] = React.useState<boolean>(false);\n  const timeoutRef = React.useRef<NodeJS.Timeout | undefined>(undefined);\n\n  const positionClasses = {\n    top: 'bottom-full left-1/2 -translate-x-1/2 mb-2',\n    bottom: 'top-full left-1/2 -translate-x-1/2 mt-2',\n    left: 'right-full top-1/2 -translate-y-1/2 mr-2',\n    right: 'left-full top-1/2 -translate-y-1/2 ml-2'\n  };\n\n  const handleMouseEnter = () => {\n    if (delay) {\n      timeoutRef.current = setTimeout(() => setIsVisible(true), delay);\n    } else {\n      setIsVisible(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    setIsVisible(false);\n  };\n\n  React.useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div \n      className=\"relative inline-flex items-center\"\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      {children}\n      {isVisible && (\n        <div \n          className={`\n            absolute z-50 px-2 py-1 text-xs\n            bg-gray-900 text-white rounded\n            whitespace-nowrap\n            transition-opacity duration-200\n            opacity-100\n            ${positionClasses[position]}\n          `}\n          role=\"tooltip\"\n        >\n          {tooltip}\n          <div \n            className={`\n              absolute w-2 h-2 bg-gray-900\n              transform rotate-45\n              ${position === 'top' ? 'bottom-[-4px] left-1/2 -translate-x-1/2' : ''}\n              ${position === 'bottom' ? 'top-[-4px] left-1/2 -translate-x-1/2' : ''}\n              ${position === 'left' ? 'right-[-4px] top-1/2 -translate-y-1/2' : ''}\n              ${position === 'right' ? 'left-[-4px] top-1/2 -translate-y-1/2' : ''}\n            `}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAWO,SAAS,QAAQ,EACtB,QAAQ,EACR,OAAO,EACP,WAAW,KAAK,EAChB,QAAQ,CAAC,EACI;IACb,MAAM,CAAC,WAAW,aAAa,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAU;IAC1D,MAAM,aAAa,qMAAA,CAAA,UAAK,CAAC,MAAM,CAA6B;IAE5D,MAAM,kBAAkB;QACtB,KAAK;QACL,QAAQ;QACR,MAAM;QACN,OAAO;IACT;IAEA,MAAM,mBAAmB;QACvB,IAAI,OAAO;YACT,WAAW,OAAO,GAAG,WAAW,IAAM,aAAa,OAAO;QAC5D,OAAO;YACL,aAAa;QACf;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,WAAW,OAAO,EAAE;YACtB,aAAa,WAAW,OAAO;QACjC;QACA,aAAa;IACf;IAEA,qMAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACd,OAAO;YACL,IAAI,WAAW,OAAO,EAAE;gBACtB,aAAa,WAAW,OAAO;YACjC;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QACC,WAAU;QACV,cAAc;QACd,cAAc;;YAEb;YACA,2BACC,8OAAC;gBACC,WAAW,CAAC;;;;;;YAMV,EAAE,eAAe,CAAC,SAAS,CAAC;UAC9B,CAAC;gBACD,MAAK;;oBAEJ;kCACD,8OAAC;wBACC,WAAW,CAAC;;;cAGV,EAAE,aAAa,QAAQ,4CAA4C,GAAG;cACtE,EAAE,aAAa,WAAW,yCAAyC,GAAG;cACtE,EAAE,aAAa,SAAS,0CAA0C,GAAG;cACrE,EAAE,aAAa,UAAU,yCAAyC,GAAG;YACvE,CAAC;;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///home/kasinadhsarma/dr-detection/app/results/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport { FileText, Download, Filter } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { Tooltip } from '@/components/ui/tooltip';\n\ninterface AnalysisResult {\n  id: string;\n  date: string;\n  severity: string;\n  confidence: number;\n  image_url: string;\n  severity_scores: Record<string, number>;\n}\n\nexport default function ResultsPage() {\n  const [results, setResults] = useState<AnalysisResult[]>([]);\n  const [filter, setFilter] = useState('all');\n  \n  useEffect(() => {\n    // Load results from local storage or API\n    const loadResults = async () => {\n      try {\n        const response = await fetch('/api/results');\n        const data = await response.json();\n        setResults(data);\n      } catch (error) {\n        console.error('Failed to load results:', error);\n      }\n    };\n    loadResults();\n  }, []);\n\n  const filteredResults = results.filter(result => {\n    if (filter === 'all') return true;\n    return result.severity.toLowerCase() === filter;\n  });\n\n  const handleExport = () => {\n    const csv = results.map(r => Object.values(r).join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `dr-analysis-${format(new Date(), 'yyyy-MM-dd')}.csv`;\n    a.click();\n  };\n\n  return (\n    <div className=\"min-h-screen p-8 bg-gray-50\">\n      <div className=\"max-w-6xl mx-auto\">\n        <header className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-3xl font-bold flex items-center gap-2\">\n            <FileText className=\"w-8 h-8\" />\n            Analysis Results\n          </h1>\n          <div className=\"flex gap-4\">\n            <div className=\"flex items-center gap-2\">\n              <Filter className=\"w-5 h-5 text-gray-500\" />\n              <select\n                aria-label=\"Filter results\"\n                value={filter}\n                onChange={(e) => setFilter(e.target.value)}\n                className=\"border rounded-md p-2\"\n              >\n                <option value=\"all\">All Results</option>\n                <option value=\"no dr\">No DR</option>\n                <option value=\"mild\">Mild DR</option>\n                <option value=\"moderate\">Moderate DR</option>\n                <option value=\"severe\">Severe DR</option>\n              </select>\n            </div>\n            <button\n              onClick={handleExport}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Export Results\n            </button>\n          </div>\n        </header>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredResults.map((result) => (\n            <div key={result.id} className=\"bg-white rounded-lg shadow p-4\">\n              <div className=\"relative h-48 mb-4\">\n                <Image\n                  src={result.image_url}\n                  alt=\"Retinal scan\"\n                  fill\n                  className=\"object-cover rounded-md\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">\n                    {format(new Date(result.date), 'PPp')}\n                  </span>\n                  <Tooltip tooltip={`Confidence: ${result.confidence}%`}>\n                    <span className={`px-2 py-1 rounded-full text-sm font-medium\n                      ${result.severity === 'No DR' ? 'bg-green-100 text-green-800' : \n                        result.severity === 'Mild DR' ? 'bg-yellow-100 text-yellow-800' :\n                        result.severity === 'Moderate DR' ? 'bg-orange-100 text-orange-800' :\n                        'bg-red-100 text-red-800'}`}\n                    >\n                      {result.severity}\n                    </span>\n                  </Tooltip>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}